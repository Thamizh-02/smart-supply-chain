<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Blockchain Supply Chain</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .status-timeline {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
    }
    .status-step {
      text-align: center;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 50%;
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .status-step.active {
      background: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }
    .blockchain-info {
      background: #f9f9f9;
      padding: 15px;
      border-left: 4px solid #1976d2;
      margin: 10px 0;
      font-size: 12px;
      word-break: break-all;
    }
    .location-map {
      width: 100%;
      height: 400px;
      background: #e0e0e0;
      border-radius: 10px;
      margin: 10px 0;
      position: relative;
    }
    .gps-marker {
      width: 20px;
      height: 20px;
      background: red;
      border-radius: 50%;
      position: absolute;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>

<div class="container">
  <h1>ğŸ”— Blockchain Supply Chain Dashboard</h1>

  <!-- Create New Order -->
  <div class="card">
    <h2>ğŸ“¦ Create New Order</h2>
    <input id="customerId" placeholder="Customer ID" type="text">
    <input id="productName" placeholder="Product Name" type="text">
    <input id="productId" placeholder="Product ID" type="text">
    <input id="quantity" placeholder="Quantity" type="number">
    <button onclick="createOrder()">Create Order</button>
  </div>

  <!-- Order List -->
  <div class="card">
    <h2>ğŸ“‹ My Orders</h2>
    <div id="orderList"></div>
  </div>

  <!-- Order Details -->
  <div class="card" id="orderDetailsCard" style="display:none;">
    <h2>ğŸ” Order Details</h2>
    
    <!-- Status Timeline -->
    <h3>ğŸ“Š Order Status Timeline</h3>
    <div class="status-timeline" id="statusTimeline"></div>

    <!-- Order Info -->
    <div id="orderInfo"></div>

    <!-- Blockchain Hash -->
    <h3>ğŸ” Blockchain Information</h3>
    <div class="blockchain-info">
      <strong>Blockchain Hash:</strong><br>
      <span id="blockchainHash"></span>
    </div>
    <div class="blockchain-info">
      <strong>Transaction ID:</strong><br>
      <span id="transactionId"></span>
    </div>

    <!-- QR Code -->
    <h3>ğŸ“± QR Code (Scan for Verification)</h3>
    <div id="qrcode" style="text-align: center;"></div>

    <!-- GPS Tracking -->
    <h3>ğŸ“ GPS Tracking History</h3>
    <div class="location-map" id="locationMap"></div>
    <div id="gpsHistory"></div>

    <!-- Dispatch Section -->
    <div id="dispatchSection" style="display:none;">
      <h3>ğŸšš Dispatch Order</h3>
      <input id="gpsTrackerId" placeholder="GPS Tracker ID (auto-generated)" type="text">
      <button onclick="dispatchOrder()">Dispatch & Generate QR Code</button>
    </div>

    <!-- Location Update Section -->
    <div id="locationUpdateSection" style="display:none;">
      <h3>ğŸ“ Submit Location Update</h3>
      <input id="latitude" placeholder="Latitude" type="number" step="0.0001">
      <input id="longitude" placeholder="Longitude" type="number" step="0.0001">
      <button onclick="submitLocation()">Update Location (Blockchain)</button>
    </div>

    <!-- Delivery Section -->
    <div id="deliverySection" style="display:none;">
      <h3>âœ… Mark as Delivered</h3>
      <input id="deliveryProof" placeholder="Delivery Proof (e.g., signature, photo hash)" type="text">
      <button onclick="markDelivered()">Confirm Delivery</button>
    </div>

    <!-- Blockchain History -->
    <h3>ğŸ“œ Blockchain Transaction History</h3>
    <div id="blockchainHistory"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
<script src="script.js"></script>

</body>
</html>
